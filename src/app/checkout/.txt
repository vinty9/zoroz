// <div className="h-max lg:w-96 md:w-96 w-full flex-none flex flex-col rounded-[5px] z-40">
// <div className="border-[1px] border-primary/30 bg-white">
//   <div className="bg-green/10 text-green p-2">
//     <span className="font-semibold text-sm">Save instantly ₹ 150.00 with online payment</span>
//   </div>
//   <div className="flex justify-between items-center py-4 px-2 border-b-[1px] border-primary/30">
//     <span className="font-semibold text-md">Payment Summary</span>
//   </div>
//   <div className="flex flex-col py-4 border-b-[1px] border-primary/30">
//     <div className="flex justify-between text-md font-normal text-lightText px-2 py-0.5">
//       <span>Total Amount</span>
//       <span>₹ 150.00</span>
//     </div>
//     <div className="flex justify-between text-md font-normal text-lightText px-2 py-0.5">
//       <span>Total GST</span>
//       <span>₹ 150.00</span>
//     </div>
//     <div className="flex justify-between text-md font-normal text-lightText px-2 py-0.5">
//       <span>Total Shipping</span>
//       <span>₹ 150.00</span>
//     </div>
//     <div className="flex justify-between text-md font-normal text-lightText px-2 py-0.5">
//       <span>Total Coupon Discount</span>
//       <span>₹ 150.00</span>
//     </div>
//   </div>
//   <div className="flex justify-between text-md font-semibold px-2 py-3">
//     <span>Amount Payable</span>
//     <span>₹ 150.00</span>
//   </div>
// </div>

// <div className="border-[1px] border-primary/30 bg-white mt-6">
//   <div className="flex justify-between items-center py-4 px-2 border-b-[1px] border-primary/30">
//     <span className="font-semibold text-md">Apply Coupon</span>
//   </div>
//   <div className="flex flex-col py-4 px-3 border-b-[1px] border-primary/30">
//     <div className="flex lg:flex-row md:flex-row flex-col gap-2">
//       <input type="text" placeholder="Enter Coupon Code" className="p-2 border-[1px] border-black/30 rounded-[5px] text-primary" />
//       <button className="py-2 px-4 rounded-[5px] bg-black/10 text-black font-semibold text-sm">Apply</button>
//     </div>
//     <div className="border-[2px] p-8 mt-2 border-green border-dashed rounded-[10px] flex gap-2">
//       <i className="fa fa-money-bill text-lg text-green"></i>
//       <div className="flex flex-col gap-1">
//         <span className="font-semibold text-md">WC1000</span>
//         <span className="font-normal text-sm">Flat Rs. 1000 Off on Wires & Cables</span>
//       </div>
//     </div>
//   </div>
//   <div className="flex justify-center text-md text-primary font-semibold px-2 py-3">
//     <span>View All Coupons</span>
//   </div>
// </div>
// </div>





// <div className="w-full bg-white p-4 rounded-[5px]">
//     <div className="flex gap-2 items-center bg-secondary px-4 py-2 mt-4">
//       <span className="font-semibold text-md">Product Summary</span>
//     </div>
//     <div className="w-full bg-white p-4 rounded-[5px] grid lg:grid-cols-3 md:grid-cols-3 sm:grid-cols-3 grid-cols-1 gap-4">
//       <div className="mt-2 flex gap-4">
//         <Image src="/assets/images/product.jpg" alt="" width={96} height={96} className="h-24 w-24" />
//         <div className="flex flex-col gap-2 grow">
//           <span className="font-medium text-md">Volume Side Button Outer for Oppo</span>
//           <span className="font-bold text-md">
//             <span className="text-sm font-normal line-through">₹ 3,200</span> ₹ 3,200
//           </span>
//           <span className="font-medium text-sm text-green">Save 150 with online payment</span>
//         </div>
//       </div>
//       <div className="flex gap-2 items-center justify-center">
//         <button className="px-3 py-1 h-max rounded-[5px] border-[1px] border-blue bg-blue/20 font-semibold">-</button>
//         <input type="number" className="px-3 py-1 w-12 h-max border-[2px] border-black/30 focus:outline-none rounded-[5px]" value="1" />
//         <button className="px-3 py-1 h-max rounded-[5px] border-[1px] border-blue bg-blue/20 font-semibold">+</button>
//       </div>
//       <div className="flex flex-col items-end justify-center">
//         <span className="font-semibold text-2xl">₹ 3,200.00</span>
//         <span className="font-normal text-sm text-green">Free Shipping <i className="fa fa-truck"></i></span>
//       </div>
//     </div>
//     <div className="w-full bg-white p-4 rounded-[5px] grid lg:grid-cols-3 md:grid-cols-3 sm:grid-cols-3 grid-cols-1 gap-4 mt-4">
//       <div className="mt-2 flex gap-4">
//         <Image src="/assets/images/product.jpg" alt="" width={96} height={96} className="h-24 w-24" />
//         <div className="flex flex-col gap-2 grow">
//           <span className="font-medium text-md">Volume Side Button Outer for Oppo</span>
//           <span className="font-bold text-md">
//             <span className="text-sm font-normal line-through">₹ 3,200</span> ₹ 3,200
//           </span>
//           <span className="font-medium text-sm text-green">Save 150 with online payment</span>
//         </div>
//       </div>
//       <div className="flex gap-2 items-center justify-center">
//         <button className="px-3 py-1 h-max rounded-[5px] border-[1px] border-blue bg-blue/20 font-semibold">-</button>
//         <input type="number" className="px-3 py-1 w-12 h-max border-[2px] border-black/30 focus:outline-none rounded-[5px]" value="1" />
//         <button className="px-3 py-1 h-max rounded-[5px] border-[1px] border-blue bg-blue/20 font-semibold">+</button>
//       </div>
//       <div className="flex flex-col items-end justify-center">
//         <span className="font-semibold text-2xl">₹ 3,200.00</span>
//         <span className="font-normal text-sm text-green">Free Shipping <i className="fa fa-truck"></i></span>
//       </div>
//     </div>

//     <div className="w-full bg-green-100 flex justify-between px-4 py-1">
//       <span className="text-xs">Spend 1,000 or more <span className="text-green-800 text-sm">get 5,000 OFF with online payment</span></span>
//       <button className="w-max rounded-[10px] text-sm font-semibold text-blue-500 px-2">
//         <i className="fa fa-plus mr-2"></i> Add Products
//       </button>
//     </div>


//   </div>

  


//   <div className="flex mt-5 w-full h-[70px] bg-white justify-end">
//   <button className="bg-blue-500 text-white mt-4 py-2 px-4 h-[40px] rounded-md w-half mr-2 max-w-xs">
//     Pay Online
//   </button>
// </div>

















"use client"
import React, { useState } from 'react';
import { FaPlus, FaTrashAlt } from 'react-icons/fa';
import Image from 'next/image';

interface Address {
  name: string;
  room: string;
  address: string;
  city: string;
  state: string;
  country: string;
  pin: string;
  phone: string;
}

const AddressForm = ({ onSave }: { onSave: (address: Address) => void }) => {
  const [address, setAddress] = useState<Address>({
    name: '',
    room: '',
    address: '',
    city: '',
    state: '',
    country: '',
    pin: '',
    phone: '',
  });

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    setAddress({ ...address, [name]: value });
  };

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    onSave(address);
    setAddress({
      name: '',
      room: '',
      address: '',
      city: '',
      state: '',
      country: '',
      pin: '',
      phone: '',
    });
  };

  return (
    <form onSubmit={handleSubmit} className="w-full bg-white p-4 rounded-[5px]">
      <div className="flex gap-2 items-center bg-secondary px-4 py-2 mt-4">
        <span className="font-semibold text-md">Delivery Address</span>
      </div>
      <div className="grid grid-cols-2 gap-4 w-full mt-4 p-4 rounded-[5px]">
        <input type="text" name="name" placeholder="Name" value={address.name} onChange={handleChange} className="rounded-[5px] focus:outline-none border-[1px] border-primary/30 w-full py-2 px-4 text-primary" />
        <input type="text" name="room" placeholder="Room Number" value={address.room} onChange={handleChange} className="rounded-[5px] focus:outline-none border-[1px] border-primary/30 w-full py-2 px-4 text-primary" />
        <input type="text" name="address" placeholder="Address" value={address.address} onChange={handleChange} className="rounded-[5px] focus:outline-none border-[1px] border-primary/30 w-full py-2 px-4 text-primary" />
        <input type="text" name="city" placeholder="City" value={address.city} onChange={handleChange} className="rounded-[5px] focus:outline-none border-[1px] border-primary/30 w-full py-2 px-4 text-primary" />
        <input type="text" name="state" placeholder="State" value={address.state} onChange={handleChange} className="rounded-[5px] focus:outline-none border-[1px] border-primary/30 w-full py-2 px-4 text-primary" />
        <input type="text" name="country" placeholder="Country" value={address.country} onChange={handleChange} className="rounded-[5px] focus:outline-none border-[1px] border-primary/30 w-full py-2 px-4 text-primary" />
        <input type="text" name="pin" placeholder="Pin Code" value={address.pin} onChange={handleChange} className="rounded-[5px] focus:outline-none border-[1px] border-primary/30 w-full py-2 px-4 text-primary" />
        <input type="text" name="phone" placeholder="Phone" value={address.phone} onChange={handleChange} className="rounded-[5px] focus:outline-none border-[1px] border-primary/30 w-full py-2 px-4 text-primary" />
      </div>
      <div className="flex justify-end mt-4 p-4">
        <button type="submit" className="py-3 px-5 rounded-[10px] bg-blue-500 font-semibold text-white border-[1px] border-primary hover:text-primary transition ease-in duration-2000">
          SAVE ADDRESS
        </button>
      </div>
    </form>
  );
};

const Checkout = () => {
  const [isVisible, setIsVisible] = useState(false);
  const [addresses, setAddresses] = useState<Address[]>([]);
  const [newAddress, setNewAddress] = useState<Address>({
    name: '',
    room: '',
    address: '',
    city: '',
    state: '',
    country: '',
    pin: '',
    phone: '',
  });

  const handleClick = () => {
    setIsVisible(!isVisible);
  };

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    setNewAddress({ ...newAddress, [name]: value });
  };

  const handleSave = (address: Address) => {
    setAddresses([...addresses, address]);
    setNewAddress({
      name: '',
      room: '',
      address: '',
      city: '',
      state: '',
      country: '',
      pin: '',
      phone: '',
    });
    setIsVisible(false);
  };

  const handleDeleteAddress = (index: number) => {
    setAddresses(addresses.filter((_, i) => i !== index));
  };

  return (
    <div className="w-full flex justify-center px-4 mt-6 bg-gray-100">
      <div className="lg:w-[90%] md:w-[90%] w-full flex lg:flex-row md:flex-row flex-col gap-4 relative">
        <div className="w-full grow flex flex-col gap-4 relative bg-secondary p-4 mt-4">
          <div className="w-full flex flex-col">

            <div className="flex w-full bg-white shadow-lg px-4">
              <div className="flex w-[50%] text-green border-b-[1px] border-green items-center justify-center py-4">
                <span className="font-semibold text-sm text-center">ADDRESS AND PRODUCT SUMMARY</span>
              </div>
              <div className="flex w-[50%] border-b-[1px] border-secondary items-center justify-center py-4">
                <span className="font-semibold text-sm">PAYMENT</span>
              </div>
            </div>

            <div className="w-full bg-white p-4 rounded-[5px]">
              {addresses.map((address, index) => (
                <div key={index} className="w-full bg-white p-4 rounded-[5px] mt-4">
                  <div className="flex gap-2 items-center bg-secondary px-4 py-2">
                    <span className="font-semibold text-md">Delivery Address ({index + 1})</span>
                  </div>
                  <div className="shadow-lg flex flex-col w-full mt-4 p-4 rounded-[5px]">
                    <span className="font-semibold text-md">{address.name}</span>
                    <span className="font-normal text-sm">{address.room} | {address.address}, {address.city}, {address.state}, {address.country}, - {address.pin}</span>
                    <span className="font-normal text-sm">Mobile: {address.phone}</span>
                  </div>
                  <div className="flex justify-end mt-2">
                    <button onClick={() => handleDeleteAddress(index)} className="py-2 px-4 rounded-[10px] bg-red-500 text-white font-semibold border-[1px] border-red-500 hover:bg-white hover:text-red-500 transition ease-in duration-2000">
                      <FaTrashAlt />
                    </button>
                  </div>
                </div>
              ))}

              {isVisible && <AddressForm onSave={handleSave} />}

              <div className="flex justify-between mt-4 p-4">
                <button onClick={handleClick} className="px-2 py-0.5 rounded-[10px] bg-red-200 font-semibold text-red-400 border-[1px] border-primary hover:bg-white hover:text-primary transition ease-in duration-2000">
                  Change Address
                </button>
                <button onClick={handleClick} className="flex items-center rounded-[10px] font-semibold text-red-400">
                  <FaPlus className="mr-2" /> Add New Address
                </button>
              </div>


            </div>
          </div>
        </div>


        <div className="w-full bg-white p-4 rounded-[5px]">
                <div className="flex gap-2 items-center bg-secondary px-4 py-2 mt-4">
                  <span className="font-semibold text-md">Product Summary</span>
                </div>
                <div className="w-full bg-white p-4 rounded-[5px] grid lg:grid-cols-3 md:grid-cols-3 sm:grid-cols-3 grid-cols-1 gap-4">
                  <div className="mt-2 flex gap-4">
                    <Image src="/assets/images/product.jpg" alt="" width={96} height={96} className="h-24 w-24" />
                    <div className="flex flex-col gap-2 grow">
                      <span className="font-medium text-md">Volume Side Button Outer for Oppo</span>
                      <span className="font-bold text-md">
                        <span className="text-sm font-normal line-through">₹ 3,200</span> ₹ 3,200
                      </span>
                      <span className="font-medium text-sm text-green">Save 150 with online payment</span>
                    </div>
                  </div>
                  <div className="flex gap-2 items-center justify-center">
                    <button className="px-3 py-1 h-max rounded-[5px] border-[1px] border-blue bg-blue/20 font-semibold">-</button>
                    <input type="number" className="px-3 py-1 w-12 h-max border-[2px] border-black/30 focus:outline-none rounded-[5px]" value="1" />
                    <button className="px-3 py-1 h-max rounded-[5px] border-[1px] border-blue bg-blue/20 font-semibold">+</button>
                  </div>
                  <div className="flex flex-col items-end justify-center">
                    <span className="font-semibold text-2xl">₹ 3,200.00</span>
                    <span className="font-normal text-sm text-green">Free Shipping <i className="fa fa-truck"></i></span>
                  </div>
                </div>
                <div className="w-full bg-white p-4 rounded-[5px] grid lg:grid-cols-3 md:grid-cols-3 sm:grid-cols-3 grid-cols-1 gap-4 mt-4">
                  <div className="mt-2 flex gap-4">
                    <Image src="/assets/images/product.jpg" alt="" width={96} height={96} className="h-24 w-24" />
                    <div className="flex flex-col gap-2 grow">
                      <span className="font-medium text-md">Volume Side Button Outer for Oppo</span>
                      <span className="font-bold text-md">
                        <span className="text-sm font-normal line-through">₹ 3,200</span> ₹ 3,200
                      </span>
                      <span className="font-medium text-sm text-green">Save 150 with online payment</span>
                    </div>
                  </div>
                  <div className="flex gap-2 items-center justify-center">
                    <button className="px-3 py-1 h-max rounded-[5px] border-[1px] border-blue bg-blue/20 font-semibold">-</button>
                    <input type="number" className="px-3 py-1 w-12 h-max border-[2px] border-black/30 focus:outline-none rounded-[5px]" value="1" />
                    <button className="px-3 py-1 h-max rounded-[5px] border-[1px] border-blue bg-blue/20 font-semibold">+</button>
                  </div>
                  <div className="flex flex-col items-end justify-center">
                    <span className="font-semibold text-2xl">₹ 3,200.00</span>
                    <span className="font-normal text-sm text-green">Free Shipping <i className="fa fa-truck"></i></span>
                  </div>
                </div>

                <div className="w-full bg-green-100 flex justify-between px-4 py-1">
                  <span className="text-xs">Spend 1,000 or more <span className="text-green-800 text-sm">get 5,000 OFF with online payment</span></span>
                  <button className="w-max rounded-[10px] text-sm font-semibold text-blue-500 px-2">
                    <i className="fa fa-plus mr-2"></i> Add Products
                  </button>
                </div>


              </div>


              <div className="flex mt-5 w-full h-[70px] bg-white justify-end">
              <button className="bg-blue-500 text-white mt-4 py-2 px-4 h-[40px] rounded-md w-half mr-2 max-w-xs">
                Pay Online
              </button>
            </div>



            <div className="h-max lg:w-96 md:w-96 w-full flex-none flex flex-col rounded-[5px] z-40">
            <div className="border-[1px] border-primary/30 bg-white">
              <div className="bg-green/10 text-green p-2">
                <span className="font-semibold text-sm">Save instantly ₹ 150.00 with online payment</span>
              </div>
              <div className="flex justify-between items-center py-4 px-2 border-b-[1px] border-primary/30">
                <span className="font-semibold text-md">Payment Summary</span>
              </div>
              <div className="flex flex-col py-4 border-b-[1px] border-primary/30">
                <div className="flex justify-between text-md font-normal text-lightText px-2 py-0.5">
                  <span>Total Amount</span>
                  <span>₹ 150.00</span>
                </div>
                <div className="flex justify-between text-md font-normal text-lightText px-2 py-0.5">
                  <span>Total GST</span>
                  <span>₹ 150.00</span>
                </div>
                <div className="flex justify-between text-md font-normal text-lightText px-2 py-0.5">
                  <span>Total Shipping</span>
                  <span>₹ 150.00</span>
                </div>
                <div className="flex justify-between text-md font-normal text-lightText px-2 py-0.5">
                  <span>Total Coupon Discount</span>
                  <span>₹ 150.00</span>
                </div>
              </div>
              <div className="flex justify-between text-md font-semibold px-2 py-3">
                <span>Amount Payable</span>
                <span>₹ 150.00</span>
              </div>
            </div>

            <div className="border-[1px] border-primary/30 bg-white mt-6">
              <div className="flex justify-between items-center py-4 px-2 border-b-[1px] border-primary/30">
                <span className="font-semibold text-md">Apply Coupon</span>
              </div>
              <div className="flex flex-col py-4 px-3 border-b-[1px] border-primary/30">
                <div className="flex lg:flex-row md:flex-row flex-col gap-2">
                  <input type="text" placeholder="Enter Coupon Code" className="p-2 border-[1px] border-black/30 rounded-[5px] text-primary" />
                  <button className="py-2 px-4 rounded-[5px] bg-black/10 text-black font-semibold text-sm">Apply</button>
                </div>
                <div className="border-[2px] p-8 mt-2 border-green border-dashed rounded-[10px] flex gap-2">
                  <i className="fa fa-money-bill text-lg text-green"></i>
                  <div className="flex flex-col gap-1">
                    <span className="font-semibold text-md">WC1000</span>
                    <span className="font-normal text-sm">Flat Rs. 1000 Off on Wires & Cables</span>
                  </div>
                </div>
              </div>
              <div className="flex justify-center text-md text-primary font-semibold px-2 py-3">
                <span>View All Coupons</span>
              </div>
            </div>
          </div>



      </div>
    </div>
  );
};

export default Checkout;
